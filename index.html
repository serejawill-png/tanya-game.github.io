<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TanyaGame</title>
<style>
  body {
    background: linear-gradient(180deg, #ffe6f0, #fff);
    font-family: 'Comic Sans MS', cursive;
    color: #444;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
  }

  h1 {
    color: #e84393;
    margin-top: 20px;
  }

  #game-container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    margin-top: 30px;
    gap: 30px;
  }

  /* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */
  #inventory {
    background: #fff3f9;
    border: 2px solid #ffb6c1;
    border-radius: 12px;
    padding: 15px;
    width: 240px;
    height: 340px;
    overflow-y: auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  #inventory h3 {
    margin-top: 0;
    text-align: center;
    color: #d63031;
  }

  .item {
    background: #fff;
    border-radius: 8px;
    padding: 8px;
    margin: 6px 0;
    font-size: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .count { color: #6c5ce7; font-weight: bold; }
  .points { color: #00b894; font-weight: bold; }

  /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å */
  #game {
    text-align: center;
    position: relative;
  }

  #photos {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 60px;
    margin-bottom: 20px;
    position: relative;
  }

  /* –¢–∞–Ω—è */
  .photo {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 4px solid #ffb6c1;
    object-fit: cover;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    animation: sway 3s infinite ease-in-out;
    transition: transform 0.4s ease, box-shadow 0.5s;
  }

  /* –ö–∞—á–∞–Ω–∏–µ –¢–∞–Ω–∏ */
  @keyframes sway {
    0% { transform: rotate(-3deg); }
    50% { transform: rotate(3deg); }
    100% { transform: rotate(-3deg); }
  }

  /* –ü–æ–±–µ–¥–∞ ‚Äî –≤—Ä–∞—â–µ–Ω–∏–µ */
  @keyframes tanyaWin {
    0% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.3) rotate(360deg); }
    100% { transform: scale(1) rotate(720deg); }
  }

  /* –ü–æ–¥—Å—Ä–∞—á–Ω–∏–∫ */
  @keyframes smack {
    0% { transform: translateX(0); }
    40% { transform: translateX(-80px) rotate(-10deg); }
    60% { transform: translateX(-80px) rotate(-10deg); }
    100% { transform: translateX(0); }
  }

  /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –≤–æ–∫—Ä—É–≥ –¢–∞–Ω–∏ */
  @keyframes glow {
    0% { box-shadow: 0 0 0px 0 rgba(255, 0, 150, 0.6); }
    50% { box-shadow: 0 0 40px 20px rgba(255, 0, 150, 0.8), 0 0 80px 40px rgba(255,255,0,0.5); }
    100% { box-shadow: 0 0 0px 0 rgba(255, 0, 150, 0); }
  }

  .tanya-spin { animation: tanyaWin 1s ease; }
  .yulia-hit { animation: smack 0.6s ease; }
  .tanya-glow { animation: glow 2s ease; }

  #tanya-btn {
    background: #ff9ff3;
    border: 3px solid #ff6bcb;
    border-radius: 50%;
    width: 150px;
    height: 150px;
    font-size: 18px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.1s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }

  #tanya-btn:active { transform: scale(0.9); }

  #counter { font-size: 24px; margin-top: 20px; }
  #message { font-size: 18px; color: #2d3436; margin-top: 15px; min-height: 30px; }

  footer { margin-top: auto; margin-bottom: 10px; color: #aaa; }
</style>
</head>
<body>

<h1>–ö–ª–∏–∫–∞–π –∏ –ø—Ä–æ–∫–∞—á–∞–π –¢–∞–Ω—é</h1>

<div id="game-container">
  <div id="inventory">
    <h3>üéÅ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
    <div id="items"></div>
  </div>

  <div id="game">
    <div id="photos">
      <img id="tanya" class="photo" src="tanya1.png" alt="–¢–∞–Ω—è">
      <img id="yulia" class="photo" src="yulia.png" alt="–Æ–ª—è">
    </div>

    <button id="tanya-btn">–ö–ª–∏–∫–Ω–∏ –∏ –ø–æ–ø—Ä–æ—Å–∏ —É –Æ–ª–∏ —à–æ –Ω–∏–±—É–¥—å üëß</button>
    <div id="counter">–û—á–∫–∏: 0</div>
    <div id="message">–ö–ª–∏–∫–∞–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏!</div>
  </div>
</div>

<footer>¬© 2025 –¢–∞–Ω—è –∏ –Æ–ª—è Production üòÑ</footer>

<script>
  let points = 0;
  let clicksSinceLastGift = 0;
  let nextGiftAt = getRandomInt(1, 10);
  const counter = document.getElementById('counter');
  const message = document.getElementById('message');
  const inventoryDiv = document.getElementById('items');
  const tanyaImg = document.getElementById('tanya');
  const yuliaImg = document.getElementById('yulia');

  // –†–∞–∑–Ω—ã–µ —Å—Ç–∞–¥–∏–∏ –¢–∞–Ω–∏–Ω–æ–π —ç–≤–æ–ª—é—Ü–∏–∏
  const tanyaImages = [
    "tanya1.png", // —Å—Ç–∞—Ä—Ç
    "tanya2.png", // 100 –æ—á–∫–æ–≤
    "tanya3.png", // 200 –æ—á–∫–æ–≤
    "tanya4.png", // 300 –æ—á–∫–æ–≤
    "tanya5.png", // 400 –æ—á–∫–æ–≤
    "tanya6.png"  // 500+
  ];
  let currentStage = 0;

  const gifts = [
    { name: '–ü–∏—Ä–æ–∂–Ω–æ–µ üç∞', value: 20 },
    { name: '–ú–æ—Ä–æ–∂–µ–Ω–æ–µ üç¶', value: 40 },
    { name: '–ü–æ–¥—Å—Ä–∞—á–Ω–∏–∫ üòÖ', value: -60 }, // —Ç–µ–ø–µ—Ä—å -60
    { name: '–ê—Ä–±—É–∑ üçâ', value: 100 },
    { name: '–ö–æ–Ω—Ñ–µ—Ç–∞ üç¨', value: 10 },
    { name: '–ß–∞—à–∫–∞ –∫–∞–∫–∞–æ ‚òï', value: 25 },
    { name: '–ö–æ—Ç–∏–∫ üê±', value: 50 }
  ];

  const inventory = {};

  document.getElementById('tanya-btn').addEventListener('click', () => {
    points++;
    clicksSinceLastGift++;
    counter.textContent = `–û—á–∫–∏: ${points}`;
    message.textContent = '–¢–∞–Ω—è –∫–ª–∏–∫–∞–µ—Ç! üòä';

    checkEvolution();
    if (clicksSinceLastGift >= nextGiftAt) {
      giveRandomGift();
      clicksSinceLastGift = 0;
      nextGiftAt = getRandomInt(1, 10);
    }
  });

  function giveRandomGift() {
    const gift = gifts[Math.floor(Math.random() * gifts.length)];
    points += gift.value;
    counter.textContent = `–û—á–∫–∏: ${points}`;
    checkEvolution();

    if (!inventory[gift.name]) {
      inventory[gift.name] = { count: 1, totalPoints: gift.value };
      addGiftToInventory(gift.name, gift.value);
    } else {
      inventory[gift.name].count++;
      inventory[gift.name].totalPoints += gift.value;
      updateGiftInInventory(gift.name);
    }

    if (gift.name.includes('–ü–æ–¥—Å—Ä–∞—á–Ω–∏–∫')) {
      message.textContent = `–Æ–ª—è –¥–∞–ª–∞ –ø–æ–¥—Å—Ä–∞—á–Ω–∏–∫ üò¨ (${gift.value} –æ—á–∫–æ–≤!)`;
      yuliaImg.classList.add('yulia-hit');
      setTimeout(() => yuliaImg.classList.remove('yulia-hit'), 600);
    } else {
      message.textContent = `–Æ–ª—è –¥–∞–ª–∞ ${gift.name}! üéâ (+${gift.value} –æ—á–∫–æ–≤)`;
      tanyaImg.classList.add('tanya-spin');
      setTimeout(() => tanyaImg.classList.remove('tanya-spin'), 1000);
    }
  }

  function addGiftToInventory(name, value) {
    const div = document.createElement('div');
    div.className = 'item';
    div.id = `gift-${encodeURIComponent(name)}`;
    div.innerHTML = `
      <div>${name} <span class="count">x1</span></div>
      <div class="points">${value > 0 ? '+' + value : value}</div>
    `;
    inventoryDiv.prepend(div);
  }

  function updateGiftInInventory(name) {
    const data = inventory[name];
    const div = document.getElementById(`gift-${encodeURIComponent(name)}`);
    if (div) {
      div.querySelector('.count').textContent = `x${data.count}`;
      div.querySelector('.points').textContent =
        data.totalPoints > 0 ? '+' + data.totalPoints : data.totalPoints;
    }
  }

  function checkEvolution() {
    const stage = Math.min(Math.floor(points / 100), tanyaImages.length - 1);
    if (stage !== currentStage) {
      currentStage = stage;
      tanyaImg.src = tanyaImages[stage];
      tanyaImg.classList.add('tanya-glow');
      setTimeout(() => tanyaImg.classList.remove('tanya-glow'), 2000);
    }
  }

  function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
</script>

</body>
</html>

